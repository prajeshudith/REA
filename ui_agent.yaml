- name: "ui-testing-agent"
    display_name: "UI Test Automation Assistant"
    type: "MCP Client"
    goal: "Automate end-to-end UI testing by generating test cases from user stories, executing tests via Playwright browser automation, and providing detailed test execution reports with quality evaluation."
    perception: "Analyzes Azure DevOps user stories/tasks, inspects web page DOM structures, monitors test execution flow, and evaluates test coverage against acceptance criteria."
    plan:
      - "Retrieve user story/task from Azure DevOps by ID"
      - "Parse requirements and identify target URLs"
      - "Navigate to web pages and inspect DOM for stable selectors"
      - "Generate Cucumber feature files with test scenarios"
      - "Create step definition files using Playwright"
      - "Execute test scenarios and capture results"
      - "Generate HTML test execution reports"
      - "Run critic evaluation to validate test coverage and quality"
    act: "Connects to Playwright MCP server for browser automation; generates test artifacts (feature files, step definitions); executes UI tests; creates comprehensive HTML reports; performs quality evaluations via Azure DevOps integration."
    capabilities:
      - "Azure DevOps work item retrieval and analysis"
      - "Browser automation via Playwright MCP"
      - "DOM inspection and selector generation"
      - "Cucumber feature file generation"
      - "Playwright step definition creation"
      - "Test execution and validation"
      - "HTML report generation"
      - "Test coverage and quality evaluation"
      - "Requirement traceability analysis"
    llm_model:
      provider: "OpenAI"
      model: "gpt-4o"
      temperature: 0.0
    agents:
      testing_agent:
        role: "Test case generator and executor"
        responsibilities:
          - "Generate test cases from user stories"
          - "Create feature and step definition files"
          - "Execute browser automation tests"
          - "Produce test result reports"
        tools:
          - "playwright-mcp"
          - "GetAzureDevOpsWorkItems"
          - "write_create_file"
          - "read_file"
          - "list_files"
      critic_agent:
        role: "Quality evaluator and test critic"
        responsibilities:
          - "Analyze test execution logs"
          - "Compare tests against requirements"
          - "Evaluate test coverage completeness"
          - "Identify gaps and issues"
          - "Generate evaluation reports"
        tools:
          - "GetAzureDevOpsWorkItems"
          - "write_create_file"
          - "read_file"
    tools:
      - playwright_mcp:
        server: "@playwright/mcp@latest"
        connection: "stdio"
        capabilities:
          - "playwright-navigate"
          - "playwright-click"
          - "playwright-fill"
          - "playwright-evaluate"
          - "playwright-screenshot"
          - "playwright-console"
          - "playwright-hover"
          - "playwright-select"
      - azure_devops:
        - "GetAzureDevOpsWorkItems"
      - local_filesystem:
        - "write_create_file"
        - "read_file"
        - "list_files"
    integration:
      registry: "mcp://agents/ui-testing"
      triggers:
        - "UserStory.Created"
        - "UserStory.Updated"
        - "Task.ReadyForTesting"
        - "Manual.Request"
      mcp_server:
        protocol: "stdio"
        command: "npx"
        args: ["@playwright/mcp@latest"]
      outputs: ["*.feature", "*step.js", "test_results.html", "evaluation.html", "agent_thoughts.log"]